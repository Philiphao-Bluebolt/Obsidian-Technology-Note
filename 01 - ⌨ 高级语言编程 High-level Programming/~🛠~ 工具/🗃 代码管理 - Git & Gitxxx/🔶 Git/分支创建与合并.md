团队合作开发时需要使用到分支的功能

任何一种分支合并方法都不会导致被合并分支消失

---
## 新分支的创建和使用

新的分支在刚创建时与之前的活跃分支内容一致，创建后即独立运行，互不干扰，直到分支合并

```bash
# 创建名为new_branch的新分支
git  branch  new_branch

# 切换到分支new_branch
git  switch  new_branch
```

使用`git push`时注意将主分支`master`改为当前分支的名字`new_branch`

```bash
git  push  -u  origin  new_branch
```

---
## 分支合并

+ 博客文章：[Git 基本命令 merge 和 rebase，你真的了解吗？](https://www.cnblogs.com/michael-xiang/p/13179837.html)
+ 相关命令：merge、rebase、cherry-pick

分支的合并有三种方式：直接前移（Fast Forward）、侧向并入、分支位置前移（Rebase）

| 方式               | 使用限制      | 合并冲突    |
| ---------------- | --------- | ------- |
| 前接（Fast Forward） | 分叉后主分支无提交 | 无       |
| 合流               | 无         | 主分支同名文件 |
| 分叉基更新（Rebase）    | 无         | 主分支同名文件 |

### 前接（Fast Forward）

前接是`merge`命令优先使用的合并方式，只适用于主分支在分叉以后没有提交的情况，因此使用范围较窄。

使用前接方法合并时，被合并的分支所有提交直接接到主分支上，HEAD移动到最近一次提交。

![[Pasted image 20240806155328.png]]

### 合流

合流是最常见的合并方式，它将被合并分支自分叉以后的所有修改提交到主分支上，`merge`命令在尝试前接失败时会转为使用合流的方式。

如果在合并前，主分支和被合并的分支存在内容不同的同名文件，会发生合并冲突

![[Pasted image 20240806155103.png]]


### 分叉基更新（Rebase）

分支位置前移一般用于将主分支上的最新更改同步到分叉的分支上，分支的”基版本“指的是它分叉时主分支所在的版本。这种方法不会创建新的提交，但会改变已有的提交历史，造成分支记录难以追溯。




![[Pasted image 20240806154748.png]]







