Linux系统的开发基于早期的Unix系统架构。在70年代，Unix系统没有图形化操作界面，只能通过输入文本命令、接收文本输出的方式操作计算机，类似的操作风格保留到了现代的Linux系统中，成为命令行软件。

Ubuntu的命令行操作主要用于文件管理、软件下载，以及Python库的管理。

![[Pasted image 20240420111608.png]]

[[#命令行格式及操作 Format & Operation]]
[[#快捷键 Hotkeys]]
[[#路径 Directory]]
[[#用户及权限 User Permission]]
[[#通配符 Wildcards]]
[[#通配符 Wildcards]]
[[#管线命令及结果储存 Piping and Output Storage]]
[[#控制运算符 Control Operator]]

---
## 命令行格式及操作 Format & Operation

Linux命令的格式是：

```
command  option  parameter1  parameter2
```

下面是一些命令行管理常用的指令：

1. `clear`：清屏
2. `exit`：退出命令行
3. `man`：调出一个指令的用户手册

---
## 快捷键 Hotkeys

熟练使用快捷键可以极大地提升输入效率，注意Linux命令行的快捷键与Windows系统的常用快捷键不同。

特别的，TAB键可以对指令进行自动补全。若已输入的参数有多种补全的可能性，命令行会输出一张包含所有可能选项的表格；若已输入的参数匹配不到任何选项，则自动补全无反应。

| **操作**           | **快捷键**            |
| ---------------- | ------------------ |
| 打开新的命令行窗口        | CTRL + ALT + T     |
| 在已有的命令行窗口打开新的子窗口 | CTRL + SHIFT + T   |
| 复制/粘贴            | CTRL + SHIFT + C/V |
| 删除光标前的内容         | CTRL + U           |
| 删除光标前一个单词        | CTRL + W           |
| 终止进程             | CTRL + C/Z         |
| 滚动查看历史输入命令       | 上下键                |
| 关闭命令行            | CTRL + D           |
| 自动补全 或 列出选项      | TAB                |

---
## 路径 Directory

类Unix系统中的路径与Windows并不相同，Windows系统以硬盘盘符`C:`、`D:`为起始根目录，而Linux中仅有一个根目录“/”，另外，Linux以“/”作为路径分隔符。

在文件夹中右键打开终端时，默认起始工作路径为当前文件夹路径。

Linux同时支持绝对和相对路径。

+ 绝对地址：以斜杠“/”开头，表示根目录；注意访问`home`文件夹的目录还要在后面加上一层用户名。

+ 相对路径：以当前工作路径为参照；两点`..`表示上一级目录，一点`.`表示本级目录

常用的路径符：

| **目录表示** | **符号**                      |
| -------- | --------------------------- |
| 根目录      | `/ `（斜杠）                    |
| Home目录   | `~` （波浪线）或 `/home/username` |
| 上一级目录    | `..` （两点）                   |
| 当前目录     | `. `（一点）                    |

---
## 用户及权限 User Permission

用户权限相关的命令有`whoami`、`su`、`sudo`、`chmod`等。

Linux系统中默认有名为`root`的超级用户（Superuser），这个用户拥有执行一切命令、修改一切文件的最高权限，可能会对系统造成无意的破坏，因此以`root`的身份执行命令有一定的风险，正常使用时以普通用户身份运行即可。

Linux下需要`root`权限的常见操作：安装/删除程序、更改磁盘容量、修改系统文件

![[Pasted image 20240420112833.png]]

---
## 通配符 Wildcards

通配符（Wildcards）常见于文件的批量操作，可用于模糊选定位于同一目录中一系列名称相似的文件及文件夹。

1. `*`（星号）：表示不关心该位置及之后的字符

移除当前目录所有以te开头的文件（te开头的文件夹也会被选中，只是rm不支持删除文件夹）

```bash
rm  te*
```

连接并输出所有test开头的文件

```bash
cat  test*
```

2. `?`（问号）：表示当前位置可为任意字符

移除当前目录所有名称符合该结构的文件

```bash
rm  tmp?.txt
```

---
## 管线命令及结果储存 Piping and Output Storage

+ 管线命令（Command Piping）：Linux独特的多命令数据传送格式，在同一行中用`|`隔开多个不同的指令，前一个指令的输出结果将作为后一个指令的输入参数。

+ 结果储存：利用`>`（大于号），可以将文本输出结果写入到指定的文件中；若文件不存在则会创建新文件，若文件已存在则会被覆盖。这种写法运行时，输出结果**不会**打印到命令行中。

```bash
cat  test.txt  |  sort  |  uniq  >  processed_data.txt
```

在上面的命令中，`cat`输出`test.txt`文件的文本内容，`sort`接受`cat`的运行结果作为输入并输出排序后的文本内容，`uniq`则输出删去相邻重复行的文本内容，文本内容最后写入文件`processed_data.txt`中。在完整的运行过程中，`test.txt`中的文本逐级传输，经过了两次处理。

---
## 控制运算符 Control Operator

在Linux命令行中，控制运算符（Control Operator）可用于改变指令的行为，并建立多条命令、命令与文件之间的互动关系。

| 运算符  | 使用格式                       | 解释                                      |
| ---- | -------------------------- | --------------------------------------- |
| &&   | `command1 && command2`     | 多条指令连续执行，`command1`执行成功才执行`command2`    |
| \|\| | `command1 `\|\|` command2` | 与&&类似，但是在`command1`执行失败时才继续执行`command2` |
| ;    | `command1 ; command2`      | 无条件多指令连续执行                              |
| \|   | `command1 `\|` command2`   | 管线命令，`command1`输出作为`command2`的输入参数      |
| >    | `command > file`           | command的输出写入`file`中，且会覆盖掉同名文件           |
| >>   | `command >> file`          | 与>类似，但是若`file`已存在，则在已有文本后面写入而非直接覆盖      |
| <    | `command < file`           | 将`file`的内容作为`command`的输入参数              |



